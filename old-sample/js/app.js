!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var r={},n={},t=function(e,r){return{}.hasOwnProperty.call(e,r)},i=function(e,r){var n,t,i=[];n=/^\.\.?(\/|$)/.test(r)?[e,r].join("/").split("/"):r.split("/");for(var o=0,l=n.length;l>o;o++)t=n[o],".."===t?i.pop():"."!==t&&""!==t&&i.push(t);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},l=function(r){return function(n){var t=o(r),l=i(t,n);return e.require(l,r)}},c=function(e,r){var t={id:e,exports:{}};return n[e]=t,r(t.exports,l(e),t),t.exports},u=function(e,o){var l=i(e,".");if(null==o&&(o="/"),t(n,l))return n[l].exports;if(t(r,l))return c(l,r[l]);var u=i(l,"./index");if(t(n,u))return n[u].exports;if(t(r,u))return c(u,r[u]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')},a=function(e,n){if("object"==typeof e)for(var i in e)t(e,i)&&(r[i]=e[i]);else r[e]=n},s=function(){var e=[];for(var n in r)t(r,n)&&e.push(n);return e};e.require=u,e.require.define=a,e.require.register=a,e.require.list=s,e.require.brunch=!0}}(),require.register("controllers/controllers",function(){angular.module("app.controllers",[]).controller("MainController",["$scope","Resource",function(e,r){e.showAll=!0,e.regions=r.get({}),e.getMethylationLevel=function(e){if(e.length>0){var r=0,t=0;for(i=0;i<e.length;i++)e[i].alignmentIdentity=(e[i].alignment.length-e[i].alignment.mismatches)/e[i].alignment.length,e[i].percentConversion=e[i].bisulfite.convertedCpH/(e[i].bisulfite.unconvertedCpH+e[i].bisulfite.convertedCpH),e[i].alignmentIdentity>.95&&e[i].percentConversion>.75?(e[i].include=!0,t+=1):r+=1;var o=e[0].methylation.reference,l=(e[0].referenceLength,e);if(o.length>1)return n(o,l)}return 0},e.getInfo=function(r){if(e.title=r[0].barcode+": "+r[0].referenceName,e.showAll=!1,r.length>0){for(e.excluded=0,e.included=0,i=0;i<r.length;i++)r[i].alignmentIdentity=(r[i].alignment.length-r[i].alignment.mismatches)/r[i].alignment.length,r[i].percentConversion=r[i].bisulfite.convertedCpH/(r[i].bisulfite.unconvertedCpH+r[i].bisulfite.convertedCpH),r[i].alignmentIdentity>.95&&r[i].percentConversion>.75?(r[i].include=!0,e.included+=1):e.excluded+=1;e.referenceCpGSites=r[0].methylation.reference,e.referenceLength=r[0].referenceLength,e.analyses=r,e.percentMethylation=n(e.referenceCpGSites,e.analyses)}},e.backToOverview=function(){e.showAll=!0};var n=function(e,r){var n=[];for(i=0;i<e.length;i++)n[i]={location:e[i],m:0,u:0};for(i=0;i<r.length;i++)if(r[i].include)for(j=0;j<r[i].methylation.sequence.length;j++)"M"==r[i].methylation.sequence[j]?n[j].m+=1:"U"==r[i].methylation.sequence[j]&&(n[j].u+=1);return n};e.percentMethylation=[],e.setMethylation=function(){e.percentMethylation=n(e.referenceCpGSites,e.analyses)},e.predicate="1-(methylation.methylatedCpGSites/(methylation.methylatedCpGSites+methylation.cpGSites))",e.includePredicate="include"}])}),require.register("directives/dot",function(){angular.module("dotDirective",[]).directive("dot",function(){return{restrict:"E",scope:{methylation:"=",samples:"="},templateUrl:"partials/methylationDot.html",replace:!0,controller:["$scope",function(e){var r=function(e){return e>100?e=100:20>e&&(e=20),e/10};e.radius=r(e.samples)}]}})}),require.register("filters/markdown",function(){angular.module("markdown",[]).filter("markdown",function(){var e=new Showdown.converter;return function(r,n){var t=r||"",i=e.makeHtml(t).replace("{{user}}",n.firstName);return i}})}),require.register("main",function(e,r){"use strict";r("controllers/controllers"),r("services/resource"),r("filters/markdown"),r("directives/dot"),angular.module("app",["ngRoute","ngCookies","app.controllers","app.services.resource","ui.bootstrap.datetimepicker","markdown","dotDirective"]).config(["$routeProvider","$locationProvider",function(e){e.when("/",{templateUrl:"partials/main.html",controller:"MainController"}),e.otherwise({redirectTo:"/"})}])}),require.register("services/resource",function(){var e=angular.module("app.services.resource",["ngResource"]);e.factory("Resource",["$resource","$window",function(e){return e("allData.json",{},{get:{method:"GET"}})}])});